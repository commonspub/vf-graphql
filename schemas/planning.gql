##
#
# Planning layer
#
# Allows agents to coordinate economic activity by agreeing on a series of
# future events to be undertaken.
#
# @package  HoloREA
# @author   pospi <pospi@spadgos.com>
# @since    2019-02-11
#
##

type Plan {
  id: ID!
  plannedOn: String
  due: String
  note: String
  name: String
  createdBy: Agent
  scope: [Agent]
  planProcesses(year: Int, month: Int): [Process]
  workingAgents: [Agent]
  plannedNonWorkInputs: [Commitment]
  plannedOutputs: [Commitment]
  nonWorkInputs: [EconomicEvent]
  outputs: [EconomicEvent]
  kanbanState: String
  isDeletable: Boolean
}

type Commitment {
  id: ID!
  url: String!
  action: Action
  inputOf: Process
  outputOf: Process
  provider: Agent
  receiver: Agent
  scope: Agent
  resourceClassifiedAs: ResourceClassification
  involves: EconomicResource
  committedQuantity: QuantityValue
  committedOn: String
  plannedStart: String
  due: String
  isFinished: Boolean
  plan: Plan
  isPlanDeliverable: Boolean
  forPlanDeliverable: Commitment
  note: String
  fulfilledBy(requestDistribution: Boolean): [Fulfillment]
  involvedAgents: [Agent]
  isDeletable: Boolean
  userIsAuthorizedToUpdate: Boolean
  userIsAuthorizedToDelete: Boolean
}

type Fulfillment {
  id: ID!
  fulfilledBy: EconomicEvent!
  fulfills: Commitment!
  fulfilledQuantity: QuantityValue!
  note: String
}

type ExchangeAgreement {
  id: ID!
  name: String!
  plannedStart: String
  scope: Agent
  note: String
  transfers: [Transfer]
  involvedAgents: [Agent]
}
